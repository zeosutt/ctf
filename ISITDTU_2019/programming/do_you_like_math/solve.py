from pwn import *

chars = {
	'0': [
		'  ###  ',
		' #   # ',
		'#     #',
		'#     #',
		'#     #',
		' #   # ',
		'  ###  ',
	],
	'1': [
		'  #  ',
		' ##  ',
		'# #  ',
		'  #  ',
		'  #  ',
		'  #  ',
		'#####',
	],
	'2': [
		' ##### ',
		'#     #',
		'      #',
		' ##### ',
		'#      ',
		'#      ',
		'#######',
	],
	'3': [
		' ##### ',
		'#     #',
		'      #',
		' ##### ',
		'      #',
		'#     #',
		' ##### ',
	],
	'4': [
		'#      ',
		'#    # ',
		'#    # ',
		'#    # ',
		'#######',
		'     # ',
		'     # ',
	],
	'5': [
		'#######',
		'#      ',
		'#      ',
		'###### ',
		'      #',
		'#     #',
		' ##### ',
	],
	'6': [
		' ##### ',
		'#     #',
		'#      ',
		'###### ',
		'#     #',
		'#     #',
		' ##### ',
	],
	'7': [
		'#######',
		'#    # ',
		'    #  ',
		'   #   ',
		'  #    ',
		'  #    ',
		'  #    ',
	],
	'8': [
		' ##### ',
		'#     #',
		'#     #',
		' ##### ',
		'#     #',
		'#     #',
		' ##### ',
	],
	'9': [
		' ##### ',
		'#     #',
		'#     #',
		' ######',
		'      #',
		'#     #',
		' ##### ',
	],
	' ': [
		'  ',
		'  ',
		'  ',
		'  ',
		'  ',
		'  ',
		'  ',
	],
	'+': [
		'     ',
		'  #  ',
		'  #  ',
		'#####',
		'  #  ',
		'  #  ',
		'     ',
	],
	'-': [
		'     ',
		'     ',
		'     ',
		'#####',
		'     ',
		'     ',
		'     ',
	],
	'*': [
		'       ',
		' #   # ',
		'  # #  ',
		'#######',
		'  # #  ',
		' #   # ',
		'       ',
	],
	'=': [
		'     ',
		'     ',
		'#####',
		'     ',
		'#####',
		'     ',
		'     ',
	],
}

def scan(lines):
	ret = ''

	pos = 0
	while pos < len(lines[0]):
		for k, v in chars.items():
			ok = True
			for i in range(7):
				ok &= lines[i][pos:].startswith(v[i])
			if ok:
				ret += k
				pos += len(v[0]) + 1
				break

	return ret

r = remote('104.154.120.223', 8083)

for i in range(100):
	print(i)

	lines = r.recvlines(9)[1:-1]
	r.sendlineafter('>>> ', str(eval(scan(lines).split()[0])))

print(r.recvall())
