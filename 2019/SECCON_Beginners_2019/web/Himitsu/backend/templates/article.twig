
{% extends 'base.twig' %}

{% block body %}
    <div class="container">
        <div class="row justify-content-center flex-column">
            <div class="article-meta m-3">
                <h1>{{ title }}</h1>
                <p class="text-muted">{{ created_at }} by {{ username }}</p>
                <p class="text-muted">記事ID: {{ article_key }}</p>
                <p>記事の概要: {{ abstract }}</p>                
            </div>
        </div>
        {% if message is defined %}
            <div class="alert alert-success" role="alert">
                {{ message }}
            </div>
        {% endif %}
        {% if error_message is defined %}
            <div class="alert alert-danger" role="alert">
                {{ error_message }}
            </div>
        {% endif %}
        <div class="m-3">
            {{ body | raw}}
        </div>
        <hr>
        <div class="m-3">
            <h2>秘密を共有する</h2>
            <p>もし一人で秘密を抱えるのが大変であれば、ぜひ運営に共有してください。</p>
            <form action="/tell" method="POST">
                <input type="hidden" name="article_key" value="{{ article_key }}">
                <script src="//www.google.com/recaptcha/api.js" async defer></script><div class="g-recaptcha" data-sitekey="{{ site_key }}"></div>
                <button type="submit">送信する</button>
            </form>
        </div>
    </div>
{% endblock %}
